<odoo>
  <data>
    <template id="gallery_categories" name="Galería Fotoapp">
      <t t-call="website.layout">
        <div id="wrap" class="oe_structure">
          <section class="s_banner bg-200 pb64 pt64">
            <div class="container text-center">
              <h1 class="display-4">Galería de Eventos</h1>
              <p class="lead">Explorá las categorías y eventos publicados por nuestros fotógrafos.</p>
            </div>
          </section>

          <section class="s_cards pt32 pb48">
            <div class="container">
              <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
                <h2 class="h3 mb-0">Categorías</h2>
                <div class="d-flex align-items-center gap-2">
                  <?xml version="1.0" encoding="utf-8"?>
                  <odoo>
                    <data noupdate="1">
                      <!-- Legacy placeholder: template bundles moved to modular files under fotoapp/views/. -->
                      <record id="fotoapp_deprecated_template_stub" model="ir.ui.view">
                        <field name="name">fotoapp.deprecated.template.stub</field>
                        <field name="type">qweb</field>
                        <field name="key">fotoapp.deprecated.template.stub</field>
                        <field name="arch" type="xml">
                          <div><!-- intentionally blank --></div>
                        </field>
                      </record>
                    </data>
                  </odoo>
                            <td>
                              <span class="badge bg-dark text-uppercase" t-esc="photo.lifecycle_state or 'archived'"/>
                            </td>
                            <td t-esc="photo.write_date and photo.write_date.strftime('%d/%m/%Y')"/>
                            <td class="text-end">
                              <form method="post" class="d-inline">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                <input type="hidden" name="photo_id" t-att-value="photo.id"/>
                                <button class="btn btn-sm btn-outline-secondary" name="action" value="restore">Restaurar</button>
                                <button class="btn btn-sm btn-outline-danger" name="action" value="delete" onclick="return confirm('¿Eliminar definitivamente la foto?');">Eliminar</button>
                              </form>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </t>
                  <t t-if="not photos">
                    <p class="text-muted mb-0">No tenés fotos archivadas en este momento.</p>
                  </t>
                </div>
              </div>
            </div>
          </section>
        </div>
      </t>
    </template>

    <record id="menu_gallery" model="website.menu">
      <field name="name">Galería</field>
      <field name="url">/galeria</field>
      <field name="parent_id" ref="website.main_menu"/>
      <field name="sequence">25</field>
    </record>
  </data>
</odoo>
